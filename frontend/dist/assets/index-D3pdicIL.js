var es=Object.defineProperty;var ts=(s,e,t)=>e in s?es(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var k=(s,e,t)=>ts(s,typeof e!="symbol"?e+"":e,t);import{r as P,a as ss,R as ns}from"./vendor-CHwTOKw-.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();var yt={exports:{}},Ne={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=P,is=Symbol.for("react.element"),os=Symbol.for("react.fragment"),as=Object.prototype.hasOwnProperty,ls=rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cs={key:!0,ref:!0,__self:!0,__source:!0};function wt(s,e,t){var n,r={},i=null,o=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)as.call(e,n)&&!cs.hasOwnProperty(n)&&(r[n]=e[n]);if(s&&s.defaultProps)for(n in e=s.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:is,type:s,key:i,ref:o,props:r,_owner:ls.current}}Ne.Fragment=os;Ne.jsx=wt;Ne.jsxs=wt;yt.exports=Ne;var l=yt.exports,St,st=ss;St=st.createRoot,st.hydrateRoot;function Et(s,e){return function(){return s.apply(e,arguments)}}const{toString:us}=Object.prototype,{getPrototypeOf:Ge}=Object,Ce=(s=>e=>{const t=us.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),V=s=>(s=s.toLowerCase(),e=>Ce(e)===s),ve=s=>e=>typeof e===s,{isArray:oe}=Array,de=ve("undefined");function ds(s){return s!==null&&!de(s)&&s.constructor!==null&&!de(s.constructor)&&z(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Nt=V("ArrayBuffer");function fs(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&Nt(s.buffer),e}const hs=ve("string"),z=ve("function"),Ct=ve("number"),Re=s=>s!==null&&typeof s=="object",ms=s=>s===!0||s===!1,xe=s=>{if(Ce(s)!=="object")return!1;const e=Ge(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},ps=V("Date"),bs=V("File"),gs=V("Blob"),xs=V("FileList"),_s=s=>Re(s)&&z(s.pipe),ys=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||z(s.append)&&((e=Ce(s))==="formdata"||e==="object"&&z(s.toString)&&s.toString()==="[object FormData]"))},ws=V("URLSearchParams"),[Ss,Es,Ns,Cs]=["ReadableStream","Request","Response","Headers"].map(V),vs=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function he(s,e,{allOwnKeys:t=!1}={}){if(s===null||typeof s>"u")return;let n,r;if(typeof s!="object"&&(s=[s]),oe(s))for(n=0,r=s.length;n<r;n++)e.call(null,s[n],n,s);else{const i=t?Object.getOwnPropertyNames(s):Object.keys(s),o=i.length;let a;for(n=0;n<o;n++)a=i[n],e.call(null,s[a],a,s)}}function vt(s,e){e=e.toLowerCase();const t=Object.keys(s);let n=t.length,r;for(;n-- >0;)if(r=t[n],e===r.toLowerCase())return r;return null}const se=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Rt=s=>!de(s)&&s!==se;function $e(){const{caseless:s}=Rt(this)&&this||{},e={},t=(n,r)=>{const i=s&&vt(e,r)||r;xe(e[i])&&xe(n)?e[i]=$e(e[i],n):xe(n)?e[i]=$e({},n):oe(n)?e[i]=n.slice():e[i]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&he(arguments[n],t);return e}const Rs=(s,e,t,{allOwnKeys:n}={})=>(he(e,(r,i)=>{t&&z(r)?s[i]=Et(r,t):s[i]=r},{allOwnKeys:n}),s),js=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),ks=(s,e,t,n)=>{s.prototype=Object.create(e.prototype,n),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),t&&Object.assign(s.prototype,t)},As=(s,e,t,n)=>{let r,i,o;const a={};if(e=e||{},s==null)return e;do{for(r=Object.getOwnPropertyNames(s),i=r.length;i-- >0;)o=r[i],(!n||n(o,s,e))&&!a[o]&&(e[o]=s[o],a[o]=!0);s=t!==!1&&Ge(s)}while(s&&(!t||t(s,e))&&s!==Object.prototype);return e},Ts=(s,e,t)=>{s=String(s),(t===void 0||t>s.length)&&(t=s.length),t-=e.length;const n=s.indexOf(e,t);return n!==-1&&n===t},Ps=s=>{if(!s)return null;if(oe(s))return s;let e=s.length;if(!Ct(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=s[e];return t},Os=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&Ge(Uint8Array)),Ms=(s,e)=>{const n=(s&&s[Symbol.iterator]).call(s);let r;for(;(r=n.next())&&!r.done;){const i=r.value;e.call(s,i[0],i[1])}},Fs=(s,e)=>{let t;const n=[];for(;(t=s.exec(e))!==null;)n.push(t);return n},Ls=V("HTMLFormElement"),Is=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),nt=(({hasOwnProperty:s})=>(e,t)=>s.call(e,t))(Object.prototype),qs=V("RegExp"),jt=(s,e)=>{const t=Object.getOwnPropertyDescriptors(s),n={};he(t,(r,i)=>{let o;(o=e(r,i,s))!==!1&&(n[i]=o||r)}),Object.defineProperties(s,n)},Bs=s=>{jt(s,(e,t)=>{if(z(s)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=s[t];if(z(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Us=(s,e)=>{const t={},n=r=>{r.forEach(i=>{t[i]=!0})};return oe(s)?n(s):n(String(s).split(e)),t},Ds=()=>{},$s=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e,Me="abcdefghijklmnopqrstuvwxyz",rt="0123456789",kt={DIGIT:rt,ALPHA:Me,ALPHA_DIGIT:Me+Me.toUpperCase()+rt},zs=(s=16,e=kt.ALPHA_DIGIT)=>{let t="";const{length:n}=e;for(;s--;)t+=e[Math.random()*n|0];return t};function Ks(s){return!!(s&&z(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const Hs=s=>{const e=new Array(10),t=(n,r)=>{if(Re(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[r]=n;const i=oe(n)?[]:{};return he(n,(o,a)=>{const c=t(o,r+1);!de(c)&&(i[a]=c)}),e[r]=void 0,i}}return n};return t(s,0)},Vs=V("AsyncFunction"),Qs=s=>s&&(Re(s)||z(s))&&z(s.then)&&z(s.catch),At=((s,e)=>s?setImmediate:e?((t,n)=>(se.addEventListener("message",({source:r,data:i})=>{r===se&&i===t&&n.length&&n.shift()()},!1),r=>{n.push(r),se.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",z(se.postMessage)),Js=typeof queueMicrotask<"u"?queueMicrotask.bind(se):typeof process<"u"&&process.nextTick||At,f={isArray:oe,isArrayBuffer:Nt,isBuffer:ds,isFormData:ys,isArrayBufferView:fs,isString:hs,isNumber:Ct,isBoolean:ms,isObject:Re,isPlainObject:xe,isReadableStream:Ss,isRequest:Es,isResponse:Ns,isHeaders:Cs,isUndefined:de,isDate:ps,isFile:bs,isBlob:gs,isRegExp:qs,isFunction:z,isStream:_s,isURLSearchParams:ws,isTypedArray:Os,isFileList:xs,forEach:he,merge:$e,extend:Rs,trim:vs,stripBOM:js,inherits:ks,toFlatObject:As,kindOf:Ce,kindOfTest:V,endsWith:Ts,toArray:Ps,forEachEntry:Ms,matchAll:Fs,isHTMLForm:Ls,hasOwnProperty:nt,hasOwnProp:nt,reduceDescriptors:jt,freezeMethods:Bs,toObjectSet:Us,toCamelCase:Is,noop:Ds,toFiniteNumber:$s,findKey:vt,global:se,isContextDefined:Rt,ALPHABET:kt,generateString:zs,isSpecCompliantForm:Ks,toJSONObject:Hs,isAsyncFn:Vs,isThenable:Qs,setImmediate:At,asap:Js};function S(s,e,t,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}f.inherits(S,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:f.toJSONObject(this.config),code:this.code,status:this.status}}});const Tt=S.prototype,Pt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Pt[s]={value:s}});Object.defineProperties(S,Pt);Object.defineProperty(Tt,"isAxiosError",{value:!0});S.from=(s,e,t,n,r,i)=>{const o=Object.create(Tt);return f.toFlatObject(s,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),S.call(o,s.message,e,t,n,r),o.cause=s,o.name=s.name,i&&Object.assign(o,i),o};const Gs=null;function ze(s){return f.isPlainObject(s)||f.isArray(s)}function Ot(s){return f.endsWith(s,"[]")?s.slice(0,-2):s}function it(s,e,t){return s?s.concat(e).map(function(r,i){return r=Ot(r),!t&&i?"["+r+"]":r}).join(t?".":""):e}function Ws(s){return f.isArray(s)&&!s.some(ze)}const Xs=f.toFlatObject(f,{},null,function(e){return/^is[A-Z]/.test(e)});function je(s,e,t){if(!f.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,t=f.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!f.isUndefined(b[g])});const n=t.metaTokens,r=t.visitor||d,i=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&f.isSpecCompliantForm(e);if(!f.isFunction(r))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(f.isDate(h))return h.toISOString();if(!c&&f.isBlob(h))throw new S("Blob is not supported. Use a Buffer instead.");return f.isArrayBuffer(h)||f.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,g,b){let E=h;if(h&&!b&&typeof h=="object"){if(f.endsWith(g,"{}"))g=n?g:g.slice(0,-2),h=JSON.stringify(h);else if(f.isArray(h)&&Ws(h)||(f.isFileList(h)||f.endsWith(g,"[]"))&&(E=f.toArray(h)))return g=Ot(g),E.forEach(function(x,j){!(f.isUndefined(x)||x===null)&&e.append(o===!0?it([g],j,i):o===null?g:g+"[]",u(x))}),!1}return ze(h)?!0:(e.append(it(b,g,i),u(h)),!1)}const p=[],m=Object.assign(Xs,{defaultVisitor:d,convertValue:u,isVisitable:ze});function _(h,g){if(!f.isUndefined(h)){if(p.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));p.push(h),f.forEach(h,function(E,v){(!(f.isUndefined(E)||E===null)&&r.call(e,E,f.isString(v)?v.trim():v,g,m))===!0&&_(E,g?g.concat(v):[v])}),p.pop()}}if(!f.isObject(s))throw new TypeError("data must be an object");return _(s),e}function ot(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function We(s,e){this._pairs=[],s&&je(s,this,e)}const Mt=We.prototype;Mt.append=function(e,t){this._pairs.push([e,t])};Mt.toString=function(e){const t=e?function(n){return e.call(this,n,ot)}:ot;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function Ys(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ft(s,e,t){if(!e)return s;const n=t&&t.encode||Ys;f.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let i;if(r?i=r(e,t):i=f.isURLSearchParams(e)?e.toString():new We(e,t).toString(n),i){const o=s.indexOf("#");o!==-1&&(s=s.slice(0,o)),s+=(s.indexOf("?")===-1?"?":"&")+i}return s}class at{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){f.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Lt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zs=typeof URLSearchParams<"u"?URLSearchParams:We,en=typeof FormData<"u"?FormData:null,tn=typeof Blob<"u"?Blob:null,sn={isBrowser:!0,classes:{URLSearchParams:Zs,FormData:en,Blob:tn},protocols:["http","https","file","blob","url","data"]},Xe=typeof window<"u"&&typeof document<"u",Ke=typeof navigator=="object"&&navigator||void 0,nn=Xe&&(!Ke||["ReactNative","NativeScript","NS"].indexOf(Ke.product)<0),rn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",on=Xe&&window.location.href||"http://localhost",an=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xe,hasStandardBrowserEnv:nn,hasStandardBrowserWebWorkerEnv:rn,navigator:Ke,origin:on},Symbol.toStringTag,{value:"Module"})),U={...an,...sn};function ln(s,e){return je(s,new U.classes.URLSearchParams,Object.assign({visitor:function(t,n,r,i){return U.isNode&&f.isBuffer(t)?(this.append(n,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function cn(s){return f.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function un(s){const e={},t=Object.keys(s);let n;const r=t.length;let i;for(n=0;n<r;n++)i=t[n],e[i]=s[i];return e}function It(s){function e(t,n,r,i){let o=t[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=t.length;return o=!o&&f.isArray(r)?r.length:o,c?(f.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a):((!r[o]||!f.isObject(r[o]))&&(r[o]=[]),e(t,n,r[o],i)&&f.isArray(r[o])&&(r[o]=un(r[o])),!a)}if(f.isFormData(s)&&f.isFunction(s.entries)){const t={};return f.forEachEntry(s,(n,r)=>{e(cn(n),r,t,0)}),t}return null}function dn(s,e,t){if(f.isString(s))try{return(e||JSON.parse)(s),f.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(s)}const me={transitional:Lt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=f.isObject(e);if(i&&f.isHTMLForm(e)&&(e=new FormData(e)),f.isFormData(e))return r?JSON.stringify(It(e)):e;if(f.isArrayBuffer(e)||f.isBuffer(e)||f.isStream(e)||f.isFile(e)||f.isBlob(e)||f.isReadableStream(e))return e;if(f.isArrayBufferView(e))return e.buffer;if(f.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ln(e,this.formSerializer).toString();if((a=f.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return je(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),dn(e)):e}],transformResponse:[function(e){const t=this.transitional||me.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(f.isResponse(e)||f.isReadableStream(e))return e;if(e&&f.isString(e)&&(n&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?S.from(a,S.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:U.classes.FormData,Blob:U.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};f.forEach(["delete","get","head","post","put","patch"],s=>{me.headers[s]={}});const fn=f.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hn=s=>{const e={};let t,n,r;return s&&s.split(`
`).forEach(function(o){r=o.indexOf(":"),t=o.substring(0,r).trim().toLowerCase(),n=o.substring(r+1).trim(),!(!t||e[t]&&fn[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},lt=Symbol("internals");function le(s){return s&&String(s).trim().toLowerCase()}function _e(s){return s===!1||s==null?s:f.isArray(s)?s.map(_e):String(s)}function mn(s){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(s);)e[n[1]]=n[2];return e}const pn=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Fe(s,e,t,n,r){if(f.isFunction(n))return n.call(this,e,t);if(r&&(e=t),!!f.isString(e)){if(f.isString(n))return e.indexOf(n)!==-1;if(f.isRegExp(n))return n.test(e)}}function bn(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function gn(s,e){const t=f.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+t,{value:function(r,i,o){return this[n].call(this,e,r,i,o)},configurable:!0})})}class ${constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(a,c,u){const d=le(c);if(!d)throw new Error("header name must be a non-empty string");const p=f.findKey(r,d);(!p||r[p]===void 0||u===!0||u===void 0&&r[p]!==!1)&&(r[p||c]=_e(a))}const o=(a,c)=>f.forEach(a,(u,d)=>i(u,d,c));if(f.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(f.isString(e)&&(e=e.trim())&&!pn(e))o(hn(e),t);else if(f.isHeaders(e))for(const[a,c]of e.entries())i(c,a,n);else e!=null&&i(t,e,n);return this}get(e,t){if(e=le(e),e){const n=f.findKey(this,e);if(n){const r=this[n];if(!t)return r;if(t===!0)return mn(r);if(f.isFunction(t))return t.call(this,r,n);if(f.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=le(e),e){const n=f.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Fe(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let r=!1;function i(o){if(o=le(o),o){const a=f.findKey(n,o);a&&(!t||Fe(n,n[a],a,t))&&(delete n[a],r=!0)}}return f.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];(!e||Fe(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return f.forEach(this,(r,i)=>{const o=f.findKey(n,i);if(o){t[o]=_e(r),delete t[i];return}const a=e?bn(i):String(i).trim();a!==i&&delete t[i],t[a]=_e(r),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return f.forEach(this,(n,r)=>{n!=null&&n!==!1&&(t[r]=e&&f.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(r=>n.set(r)),n}static accessor(e){const n=(this[lt]=this[lt]={accessors:{}}).accessors,r=this.prototype;function i(o){const a=le(o);n[a]||(gn(r,o),n[a]=!0)}return f.isArray(e)?e.forEach(i):i(e),this}}$.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);f.reduceDescriptors($.prototype,({value:s},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(n){this[t]=n}}});f.freezeMethods($);function Le(s,e){const t=this||me,n=e||t,r=$.from(n.headers);let i=n.data;return f.forEach(s,function(a){i=a.call(t,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function qt(s){return!!(s&&s.__CANCEL__)}function ae(s,e,t){S.call(this,s??"canceled",S.ERR_CANCELED,e,t),this.name="CanceledError"}f.inherits(ae,S,{__CANCEL__:!0});function Bt(s,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?s(t):e(new S("Request failed with status code "+t.status,[S.ERR_BAD_REQUEST,S.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function xn(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function _n(s,e){s=s||10;const t=new Array(s),n=new Array(s);let r=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[i];o||(o=u),t[r]=c,n[r]=u;let p=i,m=0;for(;p!==r;)m+=t[p++],p=p%s;if(r=(r+1)%s,r===i&&(i=(i+1)%s),u-o<e)return;const _=d&&u-d;return _?Math.round(m*1e3/_):void 0}}function yn(s,e){let t=0,n=1e3/e,r,i;const o=(u,d=Date.now())=>{t=d,r=null,i&&(clearTimeout(i),i=null),s.apply(null,u)};return[(...u)=>{const d=Date.now(),p=d-t;p>=n?o(u,d):(r=u,i||(i=setTimeout(()=>{i=null,o(r)},n-p)))},()=>r&&o(r)]}const Se=(s,e,t=3)=>{let n=0;const r=_n(50,250);return yn(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-n,u=r(c),d=o<=a;n=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};s(p)},t)},ct=(s,e)=>{const t=s!=null;return[n=>e[0]({lengthComputable:t,total:s,loaded:n}),e[1]]},ut=s=>(...e)=>f.asap(()=>s(...e)),wn=U.hasStandardBrowserEnv?((s,e)=>t=>(t=new URL(t,U.origin),s.protocol===t.protocol&&s.host===t.host&&(e||s.port===t.port)))(new URL(U.origin),U.navigator&&/(msie|trident)/i.test(U.navigator.userAgent)):()=>!0,Sn=U.hasStandardBrowserEnv?{write(s,e,t,n,r,i){const o=[s+"="+encodeURIComponent(e)];f.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),f.isString(n)&&o.push("path="+n),f.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(s){const e=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function En(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function Nn(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function Ut(s,e){return s&&!En(e)?Nn(s,e):e}const dt=s=>s instanceof $?{...s}:s;function ie(s,e){e=e||{};const t={};function n(u,d,p,m){return f.isPlainObject(u)&&f.isPlainObject(d)?f.merge.call({caseless:m},u,d):f.isPlainObject(d)?f.merge({},d):f.isArray(d)?d.slice():d}function r(u,d,p,m){if(f.isUndefined(d)){if(!f.isUndefined(u))return n(void 0,u,p,m)}else return n(u,d,p,m)}function i(u,d){if(!f.isUndefined(d))return n(void 0,d)}function o(u,d){if(f.isUndefined(d)){if(!f.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function a(u,d,p){if(p in e)return n(u,d);if(p in s)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,p)=>r(dt(u),dt(d),p,!0)};return f.forEach(Object.keys(Object.assign({},s,e)),function(d){const p=c[d]||r,m=p(s[d],e[d],d);f.isUndefined(m)&&p!==a||(t[d]=m)}),t}const Dt=s=>{const e=ie({},s);let{data:t,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=$.from(o),e.url=Ft(Ut(e.baseURL,e.url),s.params,s.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(f.isFormData(t)){if(U.hasStandardBrowserEnv||U.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(U.hasStandardBrowserEnv&&(n&&f.isFunction(n)&&(n=n(e)),n||n!==!1&&wn(e.url))){const u=r&&i&&Sn.read(i);u&&o.set(r,u)}return e},Cn=typeof XMLHttpRequest<"u",vn=Cn&&function(s){return new Promise(function(t,n){const r=Dt(s);let i=r.data;const o=$.from(r.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=r,d,p,m,_,h;function g(){_&&_(),h&&h(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(r.method.toUpperCase(),r.url,!0),b.timeout=r.timeout;function E(){if(!b)return;const x=$.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:x,config:s,request:b};Bt(function(K){t(K),g()},function(K){n(K),g()},R),b=null}"onloadend"in b?b.onloadend=E:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(E)},b.onabort=function(){b&&(n(new S("Request aborted",S.ECONNABORTED,s,b)),b=null)},b.onerror=function(){n(new S("Network Error",S.ERR_NETWORK,s,b)),b=null},b.ontimeout=function(){let j=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const R=r.transitional||Lt;r.timeoutErrorMessage&&(j=r.timeoutErrorMessage),n(new S(j,R.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,s,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&f.forEach(o.toJSON(),function(j,R){b.setRequestHeader(R,j)}),f.isUndefined(r.withCredentials)||(b.withCredentials=!!r.withCredentials),a&&a!=="json"&&(b.responseType=r.responseType),u&&([m,h]=Se(u,!0),b.addEventListener("progress",m)),c&&b.upload&&([p,_]=Se(c),b.upload.addEventListener("progress",p),b.upload.addEventListener("loadend",_)),(r.cancelToken||r.signal)&&(d=x=>{b&&(n(!x||x.type?new ae(null,s,b):x),b.abort(),b=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const v=xn(r.url);if(v&&U.protocols.indexOf(v)===-1){n(new S("Unsupported protocol "+v+":",S.ERR_BAD_REQUEST,s));return}b.send(i||null)})},Rn=(s,e)=>{const{length:t}=s=s?s.filter(Boolean):[];if(e||t){let n=new AbortController,r;const i=function(u){if(!r){r=!0,a();const d=u instanceof Error?u:this.reason;n.abort(d instanceof S?d:new ae(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,i(new S(`timeout ${e} of ms exceeded`,S.ETIMEDOUT))},e);const a=()=>{s&&(o&&clearTimeout(o),o=null,s.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),s=null)};s.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>f.asap(a),c}},jn=function*(s,e){let t=s.byteLength;if(t<e){yield s;return}let n=0,r;for(;n<t;)r=n+e,yield s.slice(n,r),n=r},kn=async function*(s,e){for await(const t of An(s))yield*jn(t,e)},An=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},ft=(s,e,t,n)=>{const r=kn(s,e);let i=0,o,a=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await r.next();if(u){a(),c.close();return}let p=d.byteLength;if(t){let m=i+=p;t(m)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),r.return()}},{highWaterMark:2})},ke=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$t=ke&&typeof ReadableStream=="function",Tn=ke&&(typeof TextEncoder=="function"?(s=>e=>s.encode(e))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),zt=(s,...e)=>{try{return!!s(...e)}catch{return!1}},Pn=$t&&zt(()=>{let s=!1;const e=new Request(U.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!e}),ht=64*1024,He=$t&&zt(()=>f.isReadableStream(new Response("").body)),Ee={stream:He&&(s=>s.body)};ke&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ee[e]&&(Ee[e]=f.isFunction(s[e])?t=>t[e]():(t,n)=>{throw new S(`Response type '${e}' is not supported`,S.ERR_NOT_SUPPORT,n)})})})(new Response);const On=async s=>{if(s==null)return 0;if(f.isBlob(s))return s.size;if(f.isSpecCompliantForm(s))return(await new Request(U.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(f.isArrayBufferView(s)||f.isArrayBuffer(s))return s.byteLength;if(f.isURLSearchParams(s)&&(s=s+""),f.isString(s))return(await Tn(s)).byteLength},Mn=async(s,e)=>{const t=f.toFiniteNumber(s.getContentLength());return t??On(e)},Fn=ke&&(async s=>{let{url:e,method:t,data:n,signal:r,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:d,withCredentials:p="same-origin",fetchOptions:m}=Dt(s);u=u?(u+"").toLowerCase():"text";let _=Rn([r,i&&i.toAbortSignal()],o),h;const g=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let b;try{if(c&&Pn&&t!=="get"&&t!=="head"&&(b=await Mn(d,n))!==0){let R=new Request(e,{method:"POST",body:n,duplex:"half"}),T;if(f.isFormData(n)&&(T=R.headers.get("content-type"))&&d.setContentType(T),R.body){const[K,F]=ct(b,Se(ut(c)));n=ft(R.body,ht,K,F)}}f.isString(p)||(p=p?"include":"omit");const E="credentials"in Request.prototype;h=new Request(e,{...m,signal:_,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:E?p:void 0});let v=await fetch(h);const x=He&&(u==="stream"||u==="response");if(He&&(a||x&&g)){const R={};["status","statusText","headers"].forEach(G=>{R[G]=v[G]});const T=f.toFiniteNumber(v.headers.get("content-length")),[K,F]=a&&ct(T,Se(ut(a),!0))||[];v=new Response(ft(v.body,ht,K,()=>{F&&F(),g&&g()}),R)}u=u||"text";let j=await Ee[f.findKey(Ee,u)||"text"](v,s);return!x&&g&&g(),await new Promise((R,T)=>{Bt(R,T,{data:j,headers:$.from(v.headers),status:v.status,statusText:v.statusText,config:s,request:h})})}catch(E){throw g&&g(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new S("Network Error",S.ERR_NETWORK,s,h),{cause:E.cause||E}):S.from(E,E&&E.code,s,h)}}),Ve={http:Gs,xhr:vn,fetch:Fn};f.forEach(Ve,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const mt=s=>`- ${s}`,Ln=s=>f.isFunction(s)||s===null||s===!1,Kt={getAdapter:s=>{s=f.isArray(s)?s:[s];const{length:e}=s;let t,n;const r={};for(let i=0;i<e;i++){t=s[i];let o;if(n=t,!Ln(t)&&(n=Ve[(o=String(t)).toLowerCase()],n===void 0))throw new S(`Unknown adapter '${o}'`);if(n)break;r[o||"#"+i]=n}if(!n){const i=Object.entries(r).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(mt).join(`
`):" "+mt(i[0]):"as no adapter specified";throw new S("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Ve};function Ie(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new ae(null,s)}function pt(s){return Ie(s),s.headers=$.from(s.headers),s.data=Le.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Kt.getAdapter(s.adapter||me.adapter)(s).then(function(n){return Ie(s),n.data=Le.call(s,s.transformResponse,n),n.headers=$.from(n.headers),n},function(n){return qt(n)||(Ie(s),n&&n.response&&(n.response.data=Le.call(s,s.transformResponse,n.response),n.response.headers=$.from(n.response.headers))),Promise.reject(n)})}const Ht="1.7.9",Ae={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{Ae[s]=function(n){return typeof n===s||"a"+(e<1?"n ":" ")+s}});const bt={};Ae.transitional=function(e,t,n){function r(i,o){return"[Axios v"+Ht+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,a)=>{if(e===!1)throw new S(r(o," has been removed"+(t?" in "+t:"")),S.ERR_DEPRECATED);return t&&!bt[o]&&(bt[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,a):!0}};Ae.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function In(s,e,t){if(typeof s!="object")throw new S("options must be an object",S.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let r=n.length;for(;r-- >0;){const i=n[r],o=e[i];if(o){const a=s[i],c=a===void 0||o(a,i,s);if(c!==!0)throw new S("option "+i+" must be "+c,S.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new S("Unknown option "+i,S.ERR_BAD_OPTION)}}const ye={assertOptions:In,validators:Ae},J=ye.validators;class ne{constructor(e){this.defaults=e,this.interceptors={request:new at,response:new at}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ie(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;n!==void 0&&ye.assertOptions(n,{silentJSONParsing:J.transitional(J.boolean),forcedJSONParsing:J.transitional(J.boolean),clarifyTimeoutError:J.transitional(J.boolean)},!1),r!=null&&(f.isFunction(r)?t.paramsSerializer={serialize:r}:ye.assertOptions(r,{encode:J.function,serialize:J.function},!0)),ye.assertOptions(t,{baseUrl:J.spelling("baseURL"),withXsrfToken:J.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&f.merge(i.common,i[t.method]);i&&f.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),t.headers=$.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,p=0,m;if(!c){const h=[pt.bind(this),void 0];for(h.unshift.apply(h,a),h.push.apply(h,u),m=h.length,d=Promise.resolve(t);p<m;)d=d.then(h[p++],h[p++]);return d}m=a.length;let _=t;for(p=0;p<m;){const h=a[p++],g=a[p++];try{_=h(_)}catch(b){g.call(this,b);break}}try{d=pt.call(this,_)}catch(h){return Promise.reject(h)}for(p=0,m=u.length;p<m;)d=d.then(u[p++],u[p++]);return d}getUri(e){e=ie(this.defaults,e);const t=Ut(e.baseURL,e.url);return Ft(t,e.params,e.paramsSerializer)}}f.forEach(["delete","get","head","options"],function(e){ne.prototype[e]=function(t,n){return this.request(ie(n||{},{method:e,url:t,data:(n||{}).data}))}});f.forEach(["post","put","patch"],function(e){function t(n){return function(i,o,a){return this.request(ie(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ne.prototype[e]=t(),ne.prototype[e+"Form"]=t(!0)});class Ye{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const n=this;this.promise.then(r=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](r);n._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(a=>{n.subscribe(a),i=a}).then(r);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,a){n.reason||(n.reason=new ae(i,o,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ye(function(r){e=r}),cancel:e}}}function qn(s){return function(t){return s.apply(null,t)}}function Bn(s){return f.isObject(s)&&s.isAxiosError===!0}const Qe={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qe).forEach(([s,e])=>{Qe[e]=s});function Vt(s){const e=new ne(s),t=Et(ne.prototype.request,e);return f.extend(t,ne.prototype,e,{allOwnKeys:!0}),f.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return Vt(ie(s,r))},t}const A=Vt(me);A.Axios=ne;A.CanceledError=ae;A.CancelToken=Ye;A.isCancel=qt;A.VERSION=Ht;A.toFormData=je;A.AxiosError=S;A.Cancel=A.CanceledError;A.all=function(e){return Promise.all(e)};A.spread=qn;A.isAxiosError=Bn;A.mergeConfig=ie;A.AxiosHeaders=$;A.formToJSON=s=>It(f.isHTMLForm(s)?new FormData(s):s);A.getAdapter=Kt.getAdapter;A.HttpStatusCode=Qe;A.default=A;/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const q="w",H="b",L="p",Je="n",we="b",ue="r",Z="q",O="k",qe="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class be{constructor(e,t){k(this,"color");k(this,"from");k(this,"to");k(this,"piece");k(this,"captured");k(this,"promotion");k(this,"flags");k(this,"san");k(this,"lan");k(this,"before");k(this,"after");const{color:n,piece:r,from:i,to:o,flags:a,captured:c,promotion:u}=t,d=B(i),p=B(o);this.color=n,this.piece=r,this.from=d,this.to=p,this.san=e._moveToSan(t,e._moves({legal:!0})),this.lan=d+p,this.before=e.fen(),e._makeMove(t),this.after=e.fen(),e._undoMove(),this.flags="";for(const m in N)N[m]&a&&(this.flags+=te[m]);c&&(this.captured=c),u&&(this.promotion=u,this.lan+=u)}isCapture(){return this.flags.indexOf(te.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(te.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(te.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(te.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(te.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(te.BIG_PAWN)>-1}}const D=-1,te={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},N={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},w={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Be={b:[16,32,17,15],w:[-16,-32,-17,-15]},gt={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},Un=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],Dn=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],$n={p:1,n:2,b:4,r:8,q:16,k:32},zn="pnbrqkPNBRQK",xt=[Je,we,ue,Z],Kn=7,Hn=6,Vn=1,Qn=0,ge={[O]:N.KSIDE_CASTLE,[Z]:N.QSIDE_CASTLE},X={w:[{square:w.a1,flag:N.QSIDE_CASTLE},{square:w.h1,flag:N.KSIDE_CASTLE}],b:[{square:w.a8,flag:N.QSIDE_CASTLE},{square:w.h8,flag:N.KSIDE_CASTLE}]},Jn={b:Vn,w:Hn},Gn=["1-0","0-1","1/2-1/2","*"];function re(s){return s>>4}function fe(s){return s&15}function Qt(s){return"0123456789".indexOf(s)!==-1}function B(s){const e=fe(s),t=re(s);return"abcdefgh".substring(e,e+1)+"87654321".substring(t,t+1)}function ce(s){return s===q?H:q}function Wn(s){const e=s.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const t=parseInt(e[5],10);if(isNaN(t)||t<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const n=parseInt(e[4],10);if(isNaN(n)||n<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const r=e[0].split("/");if(r.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let o=0;o<r.length;o++){let a=0,c=!1;for(let u=0;u<r[o].length;u++)if(Qt(r[o][u])){if(c)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};a+=parseInt(r[o][u],10),c=!0}else{if(!/^[prnbqkPRNBQK]$/.test(r[o][u]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};a+=1,c=!1}if(a!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const i=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:o,regex:a}of i){if(!a.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${o} king`};if((e[0].match(a)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${o} kings`}}return Array.from(r[0]+r[7]).some(o=>o.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function Xn(s,e){const t=s.from,n=s.to,r=s.piece;let i=0,o=0,a=0;for(let c=0,u=e.length;c<u;c++){const d=e[c].from,p=e[c].to,m=e[c].piece;r===m&&t!==d&&n===p&&(i++,re(t)===re(d)&&o++,fe(t)===fe(d)&&a++)}return i>0?o>0&&a>0?B(t):a>0?B(t).charAt(1):B(t).charAt(0):""}function Y(s,e,t,n,r,i=void 0,o=N.NORMAL){const a=re(n);if(r===L&&(a===Kn||a===Qn))for(let c=0;c<xt.length;c++){const u=xt[c];s.push({color:e,from:t,to:n,piece:r,captured:i,promotion:u,flags:o|N.PROMOTION})}else s.push({color:e,from:t,to:n,piece:r,captured:i,flags:o})}function _t(s){let e=s.charAt(0);return e>="a"&&e<="h"?s.match(/[a-h]\d.*[a-h]\d/)?void 0:L:(e=e.toLowerCase(),e==="o"?O:e)}function Ue(s){return s.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function De(s){return s.split(" ").slice(0,4).join(" ")}class Yn{constructor(e=qe,{skipValidation:t=!1}={}){k(this,"_board",new Array(128));k(this,"_turn",q);k(this,"_header",{});k(this,"_kings",{w:D,b:D});k(this,"_epSquare",-1);k(this,"_halfMoves",0);k(this,"_moveNumber",0);k(this,"_history",[]);k(this,"_comments",{});k(this,"_castling",{w:0,b:0});k(this,"_positionCount",{});this.load(e,{skipValidation:t})}clear({preserveHeaders:e=!1}={}){this._board=new Array(128),this._kings={w:D,b:D},this._turn=q,this._castling={w:0,b:0},this._epSquare=D,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{},this._positionCount={},delete this._header.SetUp,delete this._header.FEN}load(e,{skipValidation:t=!1,preserveHeaders:n=!1}={}){let r=e.split(/\s+/);if(r.length>=2&&r.length<6){const a=["-","-","0","1"];e=r.concat(a.slice(-(6-r.length))).join(" ")}if(r=e.split(/\s+/),!t){const{ok:a,error:c}=Wn(e);if(!a)throw new Error(c)}const i=r[0];let o=0;this.clear({preserveHeaders:n});for(let a=0;a<i.length;a++){const c=i.charAt(a);if(c==="/")o+=8;else if(Qt(c))o+=parseInt(c,10);else{const u=c<"a"?q:H;this._put({type:c.toLowerCase(),color:u},B(o)),o++}}this._turn=r[1],r[2].indexOf("K")>-1&&(this._castling.w|=N.KSIDE_CASTLE),r[2].indexOf("Q")>-1&&(this._castling.w|=N.QSIDE_CASTLE),r[2].indexOf("k")>-1&&(this._castling.b|=N.KSIDE_CASTLE),r[2].indexOf("q")>-1&&(this._castling.b|=N.QSIDE_CASTLE),this._epSquare=r[3]==="-"?D:w[r[3]],this._halfMoves=parseInt(r[4],10),this._moveNumber=parseInt(r[5],10),this._updateSetup(e),this._incPositionCount(e)}fen(){var i,o;let e=0,t="";for(let a=w.a8;a<=w.h1;a++){if(this._board[a]){e>0&&(t+=e,e=0);const{color:c,type:u}=this._board[a];t+=c===q?u.toUpperCase():u.toLowerCase()}else e++;a+1&136&&(e>0&&(t+=e),a!==w.h1&&(t+="/"),e=0,a+=8)}let n="";this._castling[q]&N.KSIDE_CASTLE&&(n+="K"),this._castling[q]&N.QSIDE_CASTLE&&(n+="Q"),this._castling[H]&N.KSIDE_CASTLE&&(n+="k"),this._castling[H]&N.QSIDE_CASTLE&&(n+="q"),n=n||"-";let r="-";if(this._epSquare!==D){const a=this._epSquare+(this._turn===q?16:-16),c=[a+1,a-1];for(const u of c){if(u&136)continue;const d=this._turn;if(((i=this._board[u])==null?void 0:i.color)===d&&((o=this._board[u])==null?void 0:o.type)===L){this._makeMove({color:d,from:u,to:this._epSquare,piece:L,captured:L,flags:N.EP_CAPTURE});const p=!this._isKingAttacked(d);if(this._undoMove(),p){r=B(this._epSquare);break}}}}return[t,this._turn,n,r,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(e){this._history.length>0||(e!==qe?(this._header.SetUp="1",this._header.FEN=e):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(qe)}get(e){return this._board[w[e]]}put({type:e,color:t},n){return this._put({type:e,color:t},n)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_put({type:e,color:t},n){if(zn.indexOf(e.toLowerCase())===-1||!(n in w))return!1;const r=w[n];if(e==O&&!(this._kings[t]==D||this._kings[t]==r))return!1;const i=this._board[r];return i&&i.type===O&&(this._kings[i.color]=D),this._board[r]={type:e,color:t},e===O&&(this._kings[t]=r),!0}remove(e){const t=this.get(e);return delete this._board[w[e]],t&&t.type===O&&(this._kings[t.color]=D),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),t}_updateCastlingRights(){var n,r,i,o,a,c,u,d,p,m,_,h;const e=((n=this._board[w.e1])==null?void 0:n.type)===O&&((r=this._board[w.e1])==null?void 0:r.color)===q,t=((i=this._board[w.e8])==null?void 0:i.type)===O&&((o=this._board[w.e8])==null?void 0:o.color)===H;(!e||((a=this._board[w.a1])==null?void 0:a.type)!==ue||((c=this._board[w.a1])==null?void 0:c.color)!==q)&&(this._castling.w&=-65),(!e||((u=this._board[w.h1])==null?void 0:u.type)!==ue||((d=this._board[w.h1])==null?void 0:d.color)!==q)&&(this._castling.w&=-33),(!t||((p=this._board[w.a8])==null?void 0:p.type)!==ue||((m=this._board[w.a8])==null?void 0:m.color)!==H)&&(this._castling.b&=-65),(!t||((_=this._board[w.h8])==null?void 0:_.type)!==ue||((h=this._board[w.h8])==null?void 0:h.color)!==H)&&(this._castling.b&=-33)}_updateEnPassantSquare(){var i,o;if(this._epSquare===D)return;const e=this._epSquare+(this._turn===q?-16:16),t=this._epSquare+(this._turn===q?16:-16),n=[t+1,t-1];if(this._board[e]!==null||this._board[this._epSquare]!==null||((i=this._board[t])==null?void 0:i.color)!==ce(this._turn)||((o=this._board[t])==null?void 0:o.type)!==L){this._epSquare=D;return}const r=a=>{var c,u;return!(a&136)&&((c=this._board[a])==null?void 0:c.color)===this._turn&&((u=this._board[a])==null?void 0:u.type)===L};n.some(r)||(this._epSquare=D)}_attacked(e,t,n){const r=[];for(let i=w.a8;i<=w.h1;i++){if(i&136){i+=7;continue}if(this._board[i]===void 0||this._board[i].color!==e)continue;const o=this._board[i],a=i-t;if(a===0)continue;const c=a+119;if(Un[c]&$n[o.type]){if(o.type===L){if(a>0&&o.color===q||a<=0&&o.color===H)if(n)r.push(B(i));else return!0;continue}if(o.type==="n"||o.type==="k")if(n){r.push(B(i));continue}else return!0;const u=Dn[c];let d=i+u,p=!1;for(;d!==t;){if(this._board[d]!=null){p=!0;break}d+=u}if(!p)if(n){r.push(B(i));continue}else return!0}}return n?r:!1}attackers(e,t){return t?this._attacked(t,w[e],!0):this._attacked(this._turn,w[e],!0)}_isKingAttacked(e){const t=this._kings[e];return t===-1?!1:this._attacked(ce(e),t)}isAttacked(e,t){return this._attacked(t,w[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},t=[];let n=0,r=0;for(let i=w.a8;i<=w.h1;i++){if(r=(r+1)%2,i&136){i+=7;continue}const o=this._board[i];o&&(e[o.type]=o.type in e?e[o.type]+1:1,o.type===we&&t.push(r),n++)}if(n===2)return!0;if(n===3&&(e[we]===1||e[Je]===1))return!0;if(n===e[we]+2){let i=0;const o=t.length;for(let a=0;a<o;a++)i+=t[a];if(i===0||i===o)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this.fen())>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:e=!1,square:t=void 0,piece:n=void 0}={}){const r=this._moves({square:t,piece:n});return e?r.map(i=>new be(this,i)):r.map(i=>this._moveToSan(i,r))}_moves({legal:e=!0,piece:t=void 0,square:n=void 0}={}){var _;const r=n?n.toLowerCase():void 0,i=t==null?void 0:t.toLowerCase(),o=[],a=this._turn,c=ce(a);let u=w.a8,d=w.h1,p=!1;if(r)if(r in w)u=d=w[r],p=!0;else return[];for(let h=u;h<=d;h++){if(h&136){h+=7;continue}if(!this._board[h]||this._board[h].color===c)continue;const{type:g}=this._board[h];let b;if(g===L){if(i&&i!==g)continue;b=h+Be[a][0],this._board[b]||(Y(o,a,h,b,L),b=h+Be[a][1],Jn[a]===re(h)&&!this._board[b]&&Y(o,a,h,b,L,void 0,N.BIG_PAWN));for(let E=2;E<4;E++)b=h+Be[a][E],!(b&136)&&(((_=this._board[b])==null?void 0:_.color)===c?Y(o,a,h,b,L,this._board[b].type,N.CAPTURE):b===this._epSquare&&Y(o,a,h,b,L,L,N.EP_CAPTURE))}else{if(i&&i!==g)continue;for(let E=0,v=gt[g].length;E<v;E++){const x=gt[g][E];for(b=h;b+=x,!(b&136);){if(!this._board[b])Y(o,a,h,b,g);else{if(this._board[b].color===a)break;Y(o,a,h,b,g,this._board[b].type,N.CAPTURE);break}if(g===Je||g===O)break}}}}if((i===void 0||i===O)&&(!p||d===this._kings[a])){if(this._castling[a]&N.KSIDE_CASTLE){const h=this._kings[a],g=h+2;!this._board[h+1]&&!this._board[g]&&!this._attacked(c,this._kings[a])&&!this._attacked(c,h+1)&&!this._attacked(c,g)&&Y(o,a,this._kings[a],g,O,void 0,N.KSIDE_CASTLE)}if(this._castling[a]&N.QSIDE_CASTLE){const h=this._kings[a],g=h-2;!this._board[h-1]&&!this._board[h-2]&&!this._board[h-3]&&!this._attacked(c,this._kings[a])&&!this._attacked(c,h-1)&&!this._attacked(c,g)&&Y(o,a,this._kings[a],g,O,void 0,N.QSIDE_CASTLE)}}if(!e||this._kings[a]===-1)return o;const m=[];for(let h=0,g=o.length;h<g;h++)this._makeMove(o[h]),this._isKingAttacked(a)||m.push(o[h]),this._undoMove();return m}move(e,{strict:t=!1}={}){let n=null;if(typeof e=="string")n=this._moveFromSan(e,t);else if(typeof e=="object"){const i=this._moves();for(let o=0,a=i.length;o<a;o++)if(e.from===B(i[o].from)&&e.to===B(i[o].to)&&(!("promotion"in i[o])||e.promotion===i[o].promotion)){n=i[o];break}}if(!n)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);const r=new be(this,n);return this._makeMove(n),this._incPositionCount(r.after),r}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(e){const t=this._turn,n=ce(t);if(this._push(e),this._board[e.to]=this._board[e.from],delete this._board[e.from],e.flags&N.EP_CAPTURE&&(this._turn===H?delete this._board[e.to-16]:delete this._board[e.to+16]),e.promotion&&(this._board[e.to]={type:e.promotion,color:t}),this._board[e.to].type===O){if(this._kings[t]=e.to,e.flags&N.KSIDE_CASTLE){const r=e.to-1,i=e.to+1;this._board[r]=this._board[i],delete this._board[i]}else if(e.flags&N.QSIDE_CASTLE){const r=e.to+1,i=e.to-2;this._board[r]=this._board[i],delete this._board[i]}this._castling[t]=0}if(this._castling[t]){for(let r=0,i=X[t].length;r<i;r++)if(e.from===X[t][r].square&&this._castling[t]&X[t][r].flag){this._castling[t]^=X[t][r].flag;break}}if(this._castling[n]){for(let r=0,i=X[n].length;r<i;r++)if(e.to===X[n][r].square&&this._castling[n]&X[n][r].flag){this._castling[n]^=X[n][r].flag;break}}e.flags&N.BIG_PAWN?t===H?this._epSquare=e.to-16:this._epSquare=e.to+16:this._epSquare=D,e.piece===L?this._halfMoves=0:e.flags&(N.CAPTURE|N.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,t===H&&this._moveNumber++,this._turn=n}undo(){const e=this._undoMove();if(e){const t=new be(this,e);return this._decPositionCount(t.after),t}return null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;const t=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber;const n=this._turn,r=ce(n);if(this._board[t.from]=this._board[t.to],this._board[t.from].type=t.piece,delete this._board[t.to],t.captured)if(t.flags&N.EP_CAPTURE){let i;n===H?i=t.to-16:i=t.to+16,this._board[i]={type:L,color:r}}else this._board[t.to]={type:t.captured,color:r};if(t.flags&(N.KSIDE_CASTLE|N.QSIDE_CASTLE)){let i,o;t.flags&N.KSIDE_CASTLE?(i=t.to+1,o=t.to-1):(i=t.to-2,o=t.to+1),this._board[i]=this._board[o],delete this._board[o]}return t}pgn({newline:e=`
`,maxWidth:t=0}={}){const n=[];let r=!1;for(const m in this._header)n.push("["+m+' "'+this._header[m]+'"]'+e),r=!0;r&&this._history.length&&n.push(e);const i=m=>{const _=this._comments[this.fen()];if(typeof _<"u"){const h=m.length>0?" ":"";m=`${m}${h}{${_}}`}return m},o=[];for(;this._history.length>0;)o.push(this._undoMove());const a=[];let c="";for(o.length===0&&a.push(i(""));o.length>0;){c=i(c);const m=o.pop();if(!m)break;if(!this._history.length&&m.color==="b"){const _=`${this._moveNumber}. ...`;c=c?`${c} ${_}`:_}else m.color==="w"&&(c.length&&a.push(c),c=this._moveNumber+".");c=c+" "+this._moveToSan(m,this._moves({legal:!0})),this._makeMove(m)}if(c.length&&a.push(i(c)),typeof this._header.Result<"u"&&a.push(this._header.Result),t===0)return n.join("")+a.join(" ");const u=function(){return n.length>0&&n[n.length-1]===" "?(n.pop(),!0):!1},d=function(m,_){for(const h of _.split(" "))if(h){if(m+h.length>t){for(;u();)m--;n.push(e),m=0}n.push(h),m+=h.length,n.push(" "),m++}return u()&&m--,m};let p=0;for(let m=0;m<a.length;m++){if(p+a[m].length>t&&a[m].includes("{")){p=d(p,a[m]);continue}p+a[m].length>t&&m!==0?(n[n.length-1]===" "&&n.pop(),n.push(e),p=0):m!==0&&(n.push(" "),p++),n.push(a[m]),p+=a[m].length}return n.join("")}header(...e){for(let t=0;t<e.length;t+=2)typeof e[t]=="string"&&typeof e[t+1]=="string"&&(this._header[e[t]]=e[t+1]);return this._header}setHeader(e,t){return this._header[e]=t,this._header}removeHeader(e){return e in this._header?(delete this._header[e],!0):!1}getHeaders(){return this._header}loadPgn(e,{strict:t=!1,newlineChar:n=`\r?
`}={}){function r(x){return x.replace(/\\/g,"\\")}function i(x){const j={},R=x.split(new RegExp(r(n)));let T="",K="";for(let F=0;F<R.length;F++){const G=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;T=R[F].replace(G,"$1"),K=R[F].replace(G,"$2"),T.trim().length>0&&(j[T]=K)}return j}e=e.trim();const a=new RegExp("^(\\[((?:"+r(n)+")|.)*\\])((?:\\s*"+r(n)+"){2}|(?:\\s*"+r(n)+")*$)").exec(e),c=a&&a.length>=2?a[1]:"";this.reset();const u=i(c);let d="";for(const x in u)x.toLowerCase()==="fen"&&(d=u[x]),this.header(x,u[x]);if(!t)d&&this.load(d,{preserveHeaders:!0});else if(u.SetUp==="1"){if(!("FEN"in u))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(u.FEN,{preserveHeaders:!0})}function p(x){return Array.from(x).map(function(j){return j.charCodeAt(0)<128?j.charCodeAt(0).toString(16):encodeURIComponent(j).replace(/%/g,"").toLowerCase()}).join("")}function m(x){return x.length==0?"":decodeURIComponent("%"+(x.match(/.{1,2}/g)||[]).join("%"))}const _=function(x){return x=x.replace(new RegExp(r(n),"g")," "),`{${p(x.slice(1,x.length-1))}}`},h=function(x){if(x.startsWith("{")&&x.endsWith("}"))return m(x.slice(1,x.length-1))};let g=e.replace(c,"").replace(new RegExp(`({[^}]*})+?|;([^${r(n)}]*)`,"g"),function(x,j,R){return j!==void 0?_(j):" "+_(`{${R.slice(1)}}`)}).replace(new RegExp(r(n),"g")," ");const b=/(\([^()]+\))+?/g;for(;b.test(g);)g=g.replace(b,"");g=g.replace(/\d+\.(\.\.)?/g,""),g=g.replace(/\.\.\./g,""),g=g.replace(/\$\d+/g,"");let E=g.trim().split(new RegExp(/\s+/));E=E.filter(x=>x!=="");let v="";for(let x=0;x<E.length;x++){const j=h(E[x]);if(j!==void 0){this._comments[this.fen()]=j;continue}const R=this._moveFromSan(E[x],t);if(R==null)if(Gn.indexOf(E[x])>-1)v=E[x];else throw new Error(`Invalid move in PGN: ${E[x]}`);else v="",this._makeMove(R),this._incPositionCount(this.fen())}v&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",v)}_moveToSan(e,t){let n="";if(e.flags&N.KSIDE_CASTLE)n="O-O";else if(e.flags&N.QSIDE_CASTLE)n="O-O-O";else{if(e.piece!==L){const r=Xn(e,t);n+=e.piece.toUpperCase()+r}e.flags&(N.CAPTURE|N.EP_CAPTURE)&&(e.piece===L&&(n+=B(e.from)[0]),n+="x"),n+=B(e.to),e.promotion&&(n+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?n+="#":n+="+"),this._undoMove(),n}_moveFromSan(e,t=!1){const n=Ue(e);let r=_t(n),i=this._moves({legal:!0,piece:r});for(let m=0,_=i.length;m<_;m++)if(n===Ue(this._moveToSan(i[m],i)))return i[m];if(t)return null;let o,a,c,u,d,p=!1;if(a=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),a?(o=a[1],c=a[2],u=a[3],d=a[4],c.length==1&&(p=!0)):(a=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),a&&(o=a[1],c=a[2],u=a[3],d=a[4],c.length==1&&(p=!0))),r=_t(n),i=this._moves({legal:!0,piece:o||r}),!u)return null;for(let m=0,_=i.length;m<_;m++)if(c){if((!o||o.toLowerCase()==i[m].piece)&&w[c]==i[m].from&&w[u]==i[m].to&&(!d||d.toLowerCase()==i[m].promotion))return i[m];if(p){const h=B(i[m].from);if((!o||o.toLowerCase()==i[m].piece)&&w[u]==i[m].to&&(c==h[0]||c==h[1])&&(!d||d.toLowerCase()==i[m].promotion))return i[m]}}else if(n===Ue(this._moveToSan(i[m],i)).replace("x",""))return i[m];return null}ascii(){let e=`   +------------------------+
`;for(let t=w.a8;t<=w.h1;t++){if(fe(t)===0&&(e+=" "+"87654321"[re(t)]+" |"),this._board[t]){const n=this._board[t].type,i=this._board[t].color===q?n.toUpperCase():n.toLowerCase();e+=" "+i+" "}else e+=" . ";t+1&136&&(e+=`|
`,t+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const t=this._moves({legal:!1});let n=0;const r=this._turn;for(let i=0,o=t.length;i<o;i++)this._makeMove(t[i]),this._isKingAttacked(r)||(e-1>0?n+=this.perft(e-1):n++),this._undoMove();return n}turn(){return this._turn}board(){const e=[];let t=[];for(let n=w.a8;n<=w.h1;n++)this._board[n]==null?t.push(null):t.push({square:B(n),type:this._board[n].type,color:this._board[n].color}),n+1&136&&(e.push(t),t=[],n+=8);return e}squareColor(e){if(e in w){const t=w[e];return(re(t)+fe(t))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const t=[],n=[];for(;this._history.length>0;)t.push(this._undoMove());for(;;){const r=t.pop();if(!r)break;e?n.push(new be(this,r)):n.push(this._moveToSan(r,this._moves())),this._makeMove(r)}return n}_getPositionCount(e){const t=De(e);return this._positionCount[t]||0}_incPositionCount(e){const t=De(e);this._positionCount[t]===void 0&&(this._positionCount[t]=0),this._positionCount[t]+=1}_decPositionCount(e){const t=De(e);this._positionCount[t]===1?delete this._positionCount[t]:this._positionCount[t]-=1}_pruneComments(){const e=[],t={},n=r=>{r in this._comments&&(t[r]=this._comments[r])};for(;this._history.length>0;)e.push(this._undoMove());for(n(this.fen());;){const r=e.pop();if(!r)break;this._makeMove(r),n(this.fen())}this._comments=t}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const t=this._comments[e];return delete this._comments[e],{fen:e,comment:t}})}setCastlingRights(e,t){for(const r of[O,Z])t[r]!==void 0&&(t[r]?this._castling[e]|=ge[r]:this._castling[e]&=~ge[r]);this._updateCastlingRights();const n=this.getCastlingRights(e);return(t[O]===void 0||t[O]===n[O])&&(t[Z]===void 0||t[Z]===n[Z])}getCastlingRights(e){return{[O]:(this._castling[e]&ge[O])!==0,[Z]:(this._castling[e]&ge[Z])!==0}}moveNumber(){return this._moveNumber}}const M={algebraicToIndices:s=>{const e=s.charCodeAt(0)-97;return{row:8-parseInt(s.charAt(1)),col:e}},pieceNameToChar:(s,e)=>({pawn:e?"P":"p",knight:e?"N":"n",bishop:e?"B":"b",rook:e?"R":"r",queen:e?"Q":"q",king:e?"K":"k"})[s]||"",fenToBoard:s=>{const e=Array(8).fill(null).map(()=>Array(8).fill("")),[t]=s.split(" "),n=t.split("/");for(let r=0;r<8;r++){let i=0;for(let o=0;o<n[r].length;o++){const a=n[r][o];/\d/.test(a)?i+=parseInt(a):(e[r][i]=a,i++)}}return e},renderPieceSymbol:s=>({p:"",n:"",b:"",r:"",q:"",k:"",P:"",N:"",B:"",R:"",Q:"",K:"","":""})[s]||"",renderCapturedPiece:(s,e)=>({pawn:e?"":"",knight:e?"":"",bishop:e?"":"",rook:e?"":"",queen:e?"":"",king:e?"":""})[s]||"",createMoveHighlight:(s,e,t,n,r={})=>{const i=M.algebraicToIndices(s),o=M.algebraicToIndices(e);return{fromRow:i.row,fromCol:i.col,toRow:o.row,toCol:o.col,piece:M.pieceNameToChar(t,n==="white"),isCapture:r.isCapture||!1,isCheck:r.isCheck||!1,isCheckmate:r.isCheckmate||!1,promotion:r.promotion?M.pieceNameToChar(r.promotion,n==="white"):void 0,castling:r.castling,isSuggested:r.isSuggested,evaluation:r.evaluation,isBestMove:r.isBestMove,isWorstMove:r.isWorstMove,isFromBestMove:r.isFromBestMove}},getPieceValue:s=>({pawn:1,knight:3,bishop:3,rook:5,queen:9,king:0})[s]||0,sortPiecesByValue:s=>{const e={queen:1,rook:2,bishop:3,knight:4,pawn:5,king:6};return[...s].sort((t,n)=>(e[t]||99)-(e[n]||99))}},Zn=({fen:s,highlight:e,suggestedMoves:t={},onShowBestMove:n,showingBestMove:r=!1,currentEvaluation:i})=>{const o=M.fenToBoard(s),a={};if(e){const c=`${e.fromRow}-${e.fromCol}`;a[c]=e;const u=`${e.toRow}-${e.toCol}`;if(a[u]=e,e.castling){const d=e.castling==="kingside",p=e.fromRow,m=d?7:0;a[`${p}-${m}`]={...e,isRookCastling:!0};const _=d?5:3;a[`${p}-${_}`]={...e,isRookCastling:!0}}}return t.best&&t.best.length>0&&t.best.forEach(c=>{const u=`${c.fromRow}-${c.fromCol}`,d=`${c.toRow}-${c.toCol}`;a[u]||(a[u]={...c,isFromBestMove:!0}),a[d]||(a[d]=c)}),t.worst&&t.worst.length>0&&t.worst.forEach(c=>{const u=`${c.toRow}-${c.toCol}`;a[u]||(a[u]=c)}),l.jsxs("div",{className:"w-full max-w-md mx-auto",children:[l.jsxs("div",{className:"flex items-start",children:[i!==void 0&&l.jsx(rr,{evaluation:i}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("div",{className:"grid grid-cols-8 border border-gray-400",children:o.map((c,u)=>c.map((d,p)=>{const m=(u+p)%2===1,_=`${u}-${p}`,h=a[_];let g=m?"bg-gray-600":"bg-gray-200",b="";return h&&(_===`${e==null?void 0:e.fromRow}-${e==null?void 0:e.fromCol}`?g="bg-yellow-300":_===`${e==null?void 0:e.toRow}-${e==null?void 0:e.toCol}`?g=e!=null&&e.isCapture?"bg-red-400":"bg-green-400":h.isRookCastling?g="bg-blue-300":h.isFromBestMove?(g=m?"bg-emerald-700":"bg-emerald-400",b="border-2 border-emerald-500"):h.isBestMove?(g="bg-emerald-300",b="border-2 border-emerald-600"):h.isWorstMove?(g="bg-red-300",b="border-2 border-red-600"):h.isSuggested&&(g="bg-blue-200",b="border border-blue-400")),(e==null?void 0:e.isCheck)&&d.toLowerCase()==="k"&&!h&&(b="border-2 border-red-500"),l.jsxs("div",{className:`w-12 h-12 flex items-center justify-center text-3xl ${g} ${b} relative`,children:[M.renderPieceSymbol(d),h&&h.evaluation!==void 0&&(h.isBestMove||h.isWorstMove)&&l.jsxs("div",{className:`absolute top-0 right-0 text-xs px-1 rounded-bl-md font-bold
                                      ${h.isBestMove?"bg-emerald-600 text-white":"bg-red-600 text-white"}`,children:[h.evaluation>0?"+":"",h.evaluation.toFixed(1)]}),h&&h.isFromBestMove&&l.jsx("div",{className:"absolute top-0 left-0 w-3 h-3 rounded-full bg-emerald-500"})]},_)}))}),l.jsx("div",{className:"grid grid-cols-8 text-center",children:["a","b","c","d","e","f","g","h"].map(c=>l.jsx("div",{className:"text-sm font-medium",children:c},c))})]})]}),n&&l.jsx("button",{onClick:n,className:`mt-3 w-full py-2 px-4 rounded-md text-white font-medium 
                    ${r?"bg-orange-500 hover:bg-orange-600":"bg-blue-500 hover:bg-blue-600"}`,children:r?"Nascondi mossa migliore":"Mostra mossa migliore"}),l.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-3 h-3 bg-yellow-300 mr-1"}),l.jsx("span",{children:"Casella di partenza"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-3 h-3 bg-green-400 mr-1"}),l.jsx("span",{children:"Casella di arrivo"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-3 h-3 bg-red-400 mr-1"}),l.jsx("span",{children:"Cattura"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-3 h-3 bg-blue-300 mr-1"}),l.jsx("span",{children:"Arrocco"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-3 h-3 bg-emerald-300 mr-1 border border-emerald-600"}),l.jsx("span",{children:"Mossa migliore"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-3 h-3 bg-red-300 mr-1 border border-red-600"}),l.jsx("span",{children:"Mossa peggiore"})]})]})]})},er=({moves:s,currentMoveIndex:e})=>{const t=()=>{const a=[],c=[],u=s.slice(0,e);for(const d of u)d.capture&&(d.color==="white"?c.push(d.piece):a.push(d.piece));return{whiteCaptured:a,blackCaptured:c}},{whiteCaptured:n,blackCaptured:r}=t(),o=(()=>{const a=n.reduce((u,d)=>u+M.getPieceValue(d),0);return r.reduce((u,d)=>u+M.getPieceValue(d),0)-a})();return l.jsxs("div",{className:"mt-4 flex justify-between bg-gray-100 p-3 rounded-md",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("h3",{className:"text-sm font-semibold mb-1",children:"Pezzi Bianchi Catturati:"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[M.sortPiecesByValue(n).map((a,c)=>l.jsx("span",{className:"text-2xl",children:M.renderCapturedPiece(a,!0)},c)),n.length===0&&l.jsx("span",{className:"text-sm text-gray-500",children:"Nessuno"})]})]}),l.jsx("div",{className:"flex items-center mx-4",children:o!==0&&l.jsxs("div",{className:`font-bold ${o>0?"text-green-600":"text-red-600"}`,children:[o>0?"+":"",o]})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("h3",{className:"text-sm font-semibold mb-1",children:"Pezzi Neri Catturati:"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[M.sortPiecesByValue(r).map((a,c)=>l.jsx("span",{className:"text-2xl",children:M.renderCapturedPiece(a,!1)},c)),r.length===0&&l.jsx("span",{className:"text-sm text-gray-500",children:"Nessuno"})]})]})]})},tr=({moves:s,currentMove:e,onMoveChange:t,autoPlay:n,setAutoPlay:r,playbackSpeed:i=1.5,setPlaybackSpeed:o})=>l.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[l.jsxs("div",{className:"flex items-center flex-wrap gap-2 mb-4",children:[l.jsxs("button",{onClick:()=>t(0),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:e===0,children:[l.jsx("span",{className:"text-xs",children:""})," Inizio"]}),l.jsxs("button",{onClick:()=>t(e-1),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:e===0,children:[l.jsx("span",{className:"text-xs",children:""})," Prec"]}),l.jsx("button",{onClick:()=>{r(!n)},className:`px-3 py-1 ${n?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600"} text-white rounded text-sm`,children:n?" Pausa":" Play"}),l.jsxs("button",{onClick:()=>t(e+1),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:e===s.length,children:["Succ ",l.jsx("span",{className:"text-xs",children:""})]}),l.jsxs("button",{onClick:()=>t(s.length),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",disabled:e===s.length,children:["Fine ",l.jsx("span",{className:"text-xs",children:""})]}),o&&l.jsxs("div",{className:"flex items-center ml-2",children:[l.jsx("span",{className:"text-xs mr-1",children:"Velocit:"}),l.jsxs("select",{value:i,onChange:a=>o(parseFloat(a.target.value)),className:"px-1 py-1 text-xs border rounded",children:[l.jsx("option",{value:"0.5",children:"0.5x"}),l.jsx("option",{value:"1",children:"1x"}),l.jsx("option",{value:"1.5",children:"1.5x"}),l.jsx("option",{value:"2",children:"2x"}),l.jsx("option",{value:"3",children:"3x"})]})]})]}),l.jsx("div",{className:"w-full max-w-md h-32 overflow-y-auto border p-2 bg-white",children:l.jsx("div",{className:"grid grid-cols-7 gap-2",children:s.map((a,c)=>l.jsxs(ns.Fragment,{children:[c%2===0&&l.jsxs("div",{className:"text-gray-600 font-bold",children:[Math.floor(c/2)+1,"."]}),l.jsxs("div",{className:`${e===c+1?"bg-yellow-200":""} 
                            ${a.is_best_move?"border-l-4 border-green-500 pl-1":""} 
                            ${a.capture?"font-semibold":""} 
                            ${a.check?"text-blue-600":""} 
                            ${a.checkmate?"text-red-600 font-bold":""} 
                            cursor-pointer px-2 py-1 relative rounded hover:bg-gray-100`,onClick:()=>t(c+1),title:`${a.piece} da ${a.from} a ${a.to}${a.evaluation!==void 0?` (${a.evaluation>0?"+":""}${a.evaluation})`:""}`,children:[a.san,a.capture&&l.jsx("span",{className:"absolute top-0 right-0 text-xs text-red-500",children:""}),a.evaluation!==void 0&&l.jsxs("span",{className:`text-xs ml-1 ${a.evaluation>0?"text-green-600":a.evaluation<0?"text-red-600":"text-gray-600"}`,children:[a.evaluation>0?"+":"",a.evaluation]})]}),c%2===1&&l.jsx("div",{})]},c))})})]}),sr=({move:s})=>s?l.jsxs("div",{className:"mt-4 bg-gray-100 p-3 rounded-md text-sm",children:[l.jsxs("h3",{className:"font-bold mb-2",children:["Dettagli Mossa ",s.moveNumber," (",s.color==="white"?"Bianco":"Nero",")"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"Notazione:"})," ",s.san]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"Pezzo:"})," ",s.piece]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"Da:"})," ",s.from]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"A:"})," ",s.to]}),s.capture&&l.jsx("div",{className:"text-red-600 font-semibold",children:"Cattura"}),s.check&&l.jsx("div",{className:"text-blue-600 font-semibold",children:"Scacco"}),s.checkmate&&l.jsx("div",{className:"text-red-600 font-semibold",children:"Scacco Matto"}),s.castling&&l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"Arrocco:"})," ",s.castling==="kingside"?"Corto":"Lungo"]}),s.promotion&&l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"Promozione a:"})," ",s.promotion]}),s.evaluation!==void 0&&l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"Valutazione:"}),l.jsxs("span",{className:`${s.evaluation>0?"text-green-600":s.evaluation<0?"text-red-600":""} ml-1 font-medium`,children:[s.evaluation>0?"+":"",s.evaluation]})]}),s.is_best_move&&l.jsx("div",{className:"text-green-600 font-semibold",children:"Mossa Migliore "})]})]}):null,nr=({analysis:s,currentMoveIndex:e,onSelectMove:t,onShowOnBoard:n})=>{if(!s||!s[e])return l.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-md",children:[l.jsx("h3",{className:"font-bold mb-2",children:"Analisi Posizione"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Nessuna analisi disponibile per questa posizione."})]});const r=s[e],i=c=>{const u=Math.abs(c);if(u>100){const d=Math.ceil((1e3-u)/10);return c>0?`+M${d}`:`-M${d}`}return(c>0?"+":"")+c.toFixed(2)},o=c=>c>1?"text-green-600":c<-1?"text-red-600":"text-gray-700",a=(c,u,d=!1,p=!1)=>{const m=c.substring(0,2),_=c.substring(2,4);return M.createMoveHighlight(m,_,"pawn","white",{isCapture:!1,isSuggested:!0,evaluation:u,isBestMove:d,isWorstMove:p})};return l.jsxs("div",{className:"mt-4 bg-gray-100 p-3 rounded-md",children:[l.jsx("h3",{className:"font-bold mb-2",children:"Analisi Posizione"}),l.jsxs("div",{className:"mb-3 flex items-center",children:[l.jsx("div",{className:"font-semibold mr-2",children:"Valutazione:"}),l.jsx("div",{className:`${o(r.evaluation)} font-bold text-lg`,children:i(r.evaluation)})]}),l.jsxs("div",{className:"mb-2",children:[l.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Mosse migliori:"}),l.jsx("div",{className:"bg-white p-2 rounded-md",children:r.bestMoves&&r.bestMoves.map((c,u)=>l.jsxs("div",{className:`flex justify-between items-center p-1 
                ${u===0?"bg-green-100":""} 
                hover:bg-blue-50 rounded-md cursor-pointer mb-1`,onClick:()=>t(c.uci),children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("span",{className:"text-gray-500 text-sm",children:[u+1,"."]}),l.jsx("span",{className:"font-medium",children:c.san})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:o(c.evaluation),children:i(c.evaluation)}),n&&l.jsx("button",{className:"text-blue-500 hover:text-blue-700 text-xs",onClick:d=>{d.stopPropagation(),n(a(c.uci,c.evaluation,u===0))},children:""})]})]},u))})]}),r.worstMoves&&r.worstMoves.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Mosse da evitare:"}),l.jsx("div",{className:"bg-white p-2 rounded-md",children:r.worstMoves.map((c,u)=>l.jsxs("div",{className:`flex justify-between items-center p-1 
                  ${u===0?"bg-red-100":""} 
                  hover:bg-blue-50 rounded-md cursor-pointer mb-1`,onClick:()=>t(c.uci),children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("span",{className:"text-gray-500 text-sm",children:[u+1,"."]}),l.jsx("span",{className:"font-medium",children:c.san})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:o(c.evaluation),children:i(c.evaluation)}),n&&l.jsx("button",{className:"text-blue-500 hover:text-blue-700 text-xs",onClick:d=>{d.stopPropagation(),n(a(c.uci,c.evaluation,!1,u===0))},children:""})]})]},u))})]})]})},rr=({evaluation:s,height:e=300})=>{const n=50+Math.max(-5,Math.min(5,s))/5*50;return l.jsxs("div",{className:"flex flex-col items-center mr-2",children:[l.jsxs("div",{className:"w-6 border border-gray-300 rounded-sm overflow-hidden",style:{height:`${e}px`},children:[l.jsx("div",{className:"w-full bg-white",style:{height:`${n}%`}}),l.jsx("div",{className:"w-full bg-gray-800",style:{height:`${100-n}%`}})]}),l.jsx("div",{className:"text-sm font-medium mt-1",children:l.jsxs("span",{className:s>0?"text-green-600":s<0?"text-red-600":"",children:[s>0?"+":"",Math.abs(s)>100?"M":s.toFixed(1)]})})]})},ir=(s,e)=>{const t=e-s;return Math.abs(t)<.2?{label:"Mossa da manuale",color:"text-gray-600",symbol:"="}:t>2?{label:"Mossa geniale",color:"text-purple-600",symbol:"!!"}:t>1?{label:"Mossa ottima",color:"text-green-600",symbol:"!"}:t>.5?{label:"Buona mossa",color:"text-blue-600",symbol:"!?"}:t<-2?{label:"Errore grave",color:"text-red-700",symbol:"??"}:t<-1?{label:"Errore",color:"text-red-500",symbol:"?"}:t<-.5?{label:"Imprecisione",color:"text-yellow-600",symbol:"?!"}:{label:"Mossa da manuale",color:"text-gray-600",symbol:"="}},or=({currentEval:s,prevEval:e,isWhiteMove:t})=>{const n=t?e:-e,r=t?s:-s,i=ir(r,n);return l.jsxs("div",{className:"mt-2",children:[l.jsxs("div",{className:`font-semibold ${i.color}`,children:[i.label," ",l.jsx("span",{className:"text-lg",children:i.symbol})]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Valutazione precedente: ",t?e>0?"+":"":e<0?"+":"",Math.abs(e).toFixed(2)]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Valutazione attuale: ",t?s>0?"+":"":s<0?"+":"",Math.abs(s).toFixed(2)]})]})},ar=({game:s})=>l.jsxs("div",{className:"mb-4 p-4 bg-gray-100 rounded-md shadow-sm",children:[l.jsxs("div",{className:"flex justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center mr-2",children:""}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:s.white.username}),s.white.rating>0&&l.jsx("div",{className:"text-sm text-gray-600",children:s.white.rating})]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"font-bold",children:"vs"}),l.jsx("div",{className:"text-sm font-medium",children:s.result})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-6 h-6 bg-black text-white rounded-full flex items-center justify-center mr-2",children:""}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:s.black.username}),s.black.rating>0&&l.jsx("div",{className:"text-sm text-gray-600",children:s.black.rating})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-gray-600",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Mosse:"})," ",s.moves.length]}),s.timeControl!=="Sconosciuto"&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Tempo:"})," ",s.timeControl]})]})]}),lr=()=>{const[s,e]=P.useState(""),[t,n]=P.useState(null),[r,i]=P.useState(0),[o,a]=P.useState(null),[c,u]=P.useState({}),[d,p]=P.useState(!1),[m,_]=P.useState(null),[h,g]=P.useState(!1),[b,E]=P.useState(1.5),[v,x]=P.useState(!1),[j,R]=P.useState(!1),[T,K]=P.useState(!0),[F,G]=P.useState(!1),[Ze,et]=P.useState(null),tt="http://localhost:8000",Jt=async()=>{if(!s.trim()){_("Inserisci un URL valido di una partita di Chess.com");return}p(!0),_(null);try{const y=await A.post(`${tt}/api/chess/url`,{url:s},{params:{analyze:v}});y.data&&(n(y.data),i(0),a(null),u({}),et(null),G(!1))}catch(y){A.isAxiosError(y)&&y.response?_(`Errore: ${y.response.data.detail||"Si  verificato un errore durante il recupero dei dati"}`):_("Errore di connessione al server. Assicurati che il backend sia in esecuzione."),console.error("Errore nel recupero della partita:",y)}finally{p(!1)}},Te=async(y,C)=>{if(t){R(!0);try{const I=await A.post(`${tt}/api/chess/evaluate`,{fen:y,depth:4});if(I.data&&t){for(t.analysis||(t.analysis=[]);t.analysis.length<=C;)t.analysis.push(null);t.analysis[C]=I.data,n({...t}),(T||F)&&pe(I.data)}}catch(I){console.error("Errore nell'analisi della posizione:",I)}finally{R(!1)}}},pe=y=>{if(!y||!T&&!F){u({});return}const C=[],I=[];if(y.bestMoves&&y.bestMoves.length>0){const W=F?1:T?2:0;for(let Q=0;Q<Math.min(W,y.bestMoves.length);Q++){const ee=y.bestMoves[Q],Yt=ee.uci.substring(0,2),Zt=ee.uci.substring(2,4);C.push(M.createMoveHighlight(Yt,Zt,"pawn","white",{evaluation:ee.evaluation,isBestMove:Q===0,isSuggested:Q>0,isFromBestMove:!0}))}}if(T&&!F&&y.worstMoves&&y.worstMoves.length>0){const W=y.worstMoves[0],Q=W.uci.substring(0,2),ee=W.uci.substring(2,4);I.push(M.createMoveHighlight(Q,ee,"pawn","white",{evaluation:W.evaluation,isWorstMove:!0}))}u({best:C,worst:I})},Pe=P.useCallback(y=>{if(!(!t||y<0||y>t.moves.length))if(t.analysis&&t.analysis[r]&&et(t.analysis[r].evaluation),i(y),G(!1),t.analysis&&t.analysis[y]&&T?pe(t.analysis[y]):u({}),y>0){const C=t.moves[y-1];a(M.createMoveHighlight(C.from,C.to,C.piece,C.color,{isCapture:C.capture,isCheck:C.check,isCheckmate:C.checkmate,promotion:C.promotion,castling:C.castling,evaluation:C.evaluation})),v&&t.positions&&t.positions[y]&&(!t.analysis||!t.analysis[y])&&Te(t.positions[y],y)}else a(null)},[t,v,T,r]),Gt=()=>{if(!t||!t.analysis||!t.analysis[r]){t&&t.positions&&r<t.positions.length&&Te(t.positions[r],r);return}G(!F),pe(t.analysis[r])},Wt=y=>{a(y),setTimeout(()=>{if(r>0&&t){const C=t.moves[r-1];a(M.createMoveHighlight(C.from,C.to,C.piece,C.color,{isCapture:C.capture,isCheck:C.check,isCheckmate:C.checkmate,promotion:C.promotion,castling:C.castling}))}else a(null)},1500)},Xt=y=>{try{if(t&&r<t.positions.length){const C=new Yn(t.positions[r]);for(const I of C.moves({verbose:!0}))if(I.from+I.to+(I.promotion||"")===y){const W=M.algebraicToIndices(I.from),Q=M.algebraicToIndices(I.to),ee={fromRow:W.row,fromCol:W.col,toRow:Q.row,toCol:Q.col,piece:I.piece.toUpperCase(),isCapture:!!I.captured,isCheck:C.isCheck(),isCheckmate:!1,promotion:I.promotion,isSuggested:!0};a(ee);break}}}catch(C){console.error("Errore nell'applicazione della mossa suggerita:",C)}};P.useEffect(()=>{let y=null;return h&&t&&r<t.moves.length&&(y=window.setInterval(()=>{i(C=>C>=t.moves.length?(g(!1),C):C+1)},b*1e3)),()=>{y!==null&&window.clearInterval(y)}},[h,r,t,b]),P.useEffect(()=>{t&&Pe(r)},[r,t,Pe]);const Oe=()=>{if(t!=null&&t.analysis&&t.analysis[r])return t.analysis[r].evaluation};return l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Visualizzatore di Partite di Scacchi"}),l.jsxs("div",{className:"max-w-6xl mx-auto bg-white p-6 rounded-lg shadow-lg",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{htmlFor:"gameUrl",className:"block text-sm font-medium text-gray-700 mb-2",children:"Inserisci l'URL della partita di Chess.com:"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{type:"text",id:"gameUrl",value:s,onChange:y=>e(y.target.value),placeholder:"https://www.chess.com/game/live/136832121294",className:"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("button",{onClick:Jt,disabled:d||!s.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-400",children:d?"Caricamento...":"Visualizza"})]}),l.jsxs("div",{className:"mt-2 flex items-center space-x-4 flex-wrap",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"analyzeGame",checked:v,onChange:y=>x(y.target.checked),className:"mr-2"}),l.jsx("label",{htmlFor:"analyzeGame",className:"text-sm text-gray-700",children:"Analizza la partita"})]}),v&&l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"showSuggestions",checked:T,onChange:y=>{K(y.target.checked),t!=null&&t.analysis&&t.analysis[r]&&pe(t.analysis[r])},className:"mr-2"}),l.jsx("label",{htmlFor:"showSuggestions",className:"text-sm text-gray-700",children:"Mostra suggerimenti sulla scacchiera"})]})]}),m&&l.jsx("p",{className:"mt-2 text-red-600 text-sm",children:m}),d&&l.jsx("p",{className:"mt-2 text-blue-600 text-sm",children:"Estrazione delle mosse in corso, potrebbe richiedere alcuni secondi..."})]}),t&&t.positions&&l.jsxs("div",{children:[l.jsx(ar,{game:t}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("div",{className:"mb-4",children:l.jsx(Zn,{fen:t.positions[r],highlight:o,suggestedMoves:T||F?c:{},onShowBestMove:v?Gt:void 0,showingBestMove:F,currentEvaluation:Oe()})},`board-state-${r}-${F}`),l.jsx(tr,{moves:t.moves,currentMove:r,onMoveChange:Pe,autoPlay:h,setAutoPlay:g,playbackSpeed:b,setPlaybackSpeed:E}),l.jsx(er,{moves:t.moves,currentMoveIndex:r})]}),l.jsxs("div",{children:[r>0&&l.jsx(sr,{move:t.moves[r-1]}),r>0&&Ze!==null&&Oe()!==void 0&&l.jsx("div",{className:"mt-4",children:l.jsx(or,{currentEval:Oe(),prevEval:Ze,isWhiteMove:t.moves[r-1].color==="white"})}),v&&l.jsxs(l.Fragment,{children:[j?l.jsx("div",{className:"mt-4 p-3 bg-gray-100 rounded-md text-sm text-center",children:l.jsxs("div",{className:"flex justify-center items-center",children:[l.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analisi in corso..."]})}):l.jsx(nr,{analysis:t.analysis,currentMoveIndex:r,onSelectMove:Xt,onShowOnBoard:Wt}),t.analysis&&!t.analysis[r]&&!j&&l.jsx("button",{onClick:()=>Te(t.positions[r],r),className:"mt-2 w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Analizza questa posizione"})]})]})]})]})]})]})};function cr(){return l.jsx("div",{className:"min-h-screen bg-gray-100",children:l.jsx(lr,{})})}St(document.getElementById("root")).render(l.jsx(P.StrictMode,{children:l.jsx(cr,{})}));
//# sourceMappingURL=index-D3pdicIL.js.map
